# ğŸŒŸ NÃ´ng TrÃ­ AI - Chatbot NÃ´ng Nghiá»‡p ThÃ´ng Minh ğŸŒ±

## ğŸ“Œ Giá»›i thiá»‡u

**NÃ´ng TrÃ­ AI** lÃ  má»™t há»‡ thá»‘ng há»— trá»£ kiáº¿n thá»©c nÃ´ng nghiá»‡p vá» cÃ¢y cÃ  phÃª, sáº§u riÃªng vÃ  há»“ tiÃªu. Há»‡ thá»‘ng sá»­ dá»¥ng cÃ´ng nghá»‡ **RAG (Retrieval-Augmented Generation)** káº¿t há»£p vá»›i cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n Ä‘á»ƒ trÃ­ch xuáº¥t vÃ  tá»•ng há»£p thÃ´ng tin chÃ­nh xÃ¡c tá»« kho dá»¯ liá»‡u.

## Dá»± Ã¡n bao gá»“m

### Chatbot NÃ´ng TrÃ­ AI
Chatbot Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng mÃ´ hÃ¬nh RAG giÃºp ngÆ°á»i dÃ¹ng tra cá»©u thÃ´ng tin nÃ´ng nghiá»‡p chÃ­nh xÃ¡c vÃ  nhanh chÃ³ng.
- **Github**: [DieppDiepp/NongTriAI](https://github.com/DieppDiepp/NongTriAI)

### á»¨ng dá»¥ng NÃ´ng TrÃ­ AI (APK)
PhiÃªn báº£n di Ä‘á»™ng giÃºp ngÆ°á»i dÃ¹ng truy cáº­p thÃ´ng tin dá»… dÃ ng hÆ¡n.
- **Github**: [Zile228/NongTri_App](https://github.com/Zile228/NongTri_App)

## Giao diá»‡n á»©ng dá»¥ng
![Nong Tri Web3 & AI Ideathon](https://github.com/DieppDiepp/NongTriAI/raw/main/image/NÃ´ng%20TrÃ­%20â€“%20Chatbot%20trá»£%20lÃ½%20nÃ´ng%20nghiá»‡p%20AI%20dÃ nh%20riÃªng%20cho%20nÃ´ng%20dÃ¢n%20Viá»‡t%20Nam.png)

----------------------
## Dá»± Ã¡n Ä‘áº¡t giáº£i Ã QuÃ¢n cá»§a cuá»™c thi ğ–ğğ›ğŸ‘ & ğ€ğˆ ğˆğğğšğ­ğ¡ğ¨ğ§
ğ–ğğ›ğŸ‘ & ğ€ğˆ ğˆğğğšğ­ğ¡ğ¨ğ§ lÃ  cuá»™c thi toÃ n quá»‘c vá» Ã½ tÆ°á»Ÿng cÃ´ng nghá»‡ thu hÃºt 1012 Ä‘Æ¡n Ä‘Äƒng kÃ½ vÃ  452 Ã½ tÆ°á»Ÿng Ä‘Æ°á»£c gá»­i vá»

![Nong Tri Web3 & AI Ideathon](https://github.com/DieppDiepp/NongTriAI/raw/main/image/top-2.jpg)

-------------
## ğŸ› ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

1. ğŸš€ **FastAPI**: Framework backend chÃ­nh dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng API giao tiáº¿p vá»›i chatbot.
2. ğŸ“Š **ChromaDB**: Vector database lÆ°u trá»¯ embedding cÃ¡c tÃ i liá»‡u nÃ´ng nghiá»‡p.
3. ğŸ¤– **Gemini 2.0 Flash**: MÃ´ hÃ¬nh AI tá»« Google dÃ¹ng Ä‘á»ƒ sinh cÃ¢u tráº£ lá»i.
4. ğŸ“ **Embedding Tiáº¿ng Viá»‡t**: Sá»­ dá»¥ng mÃ´ hÃ¬nh [dangvantuan/vietnamese-embedding](https://huggingface.co/dangvantuan/vietnamese-embedding) tá»‘i Æ°u cho dá»¯ liá»‡u tiáº¿ng Viá»‡t.
5. ğŸ¦œï¸ğŸ”— **LangChain + Langsmith**: Sá»­ dá»¥ng framework LangChain, Langsmith Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vÃ  theo dÃµi LLMs, Ã¡p dá»¥ng cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u nhÆ° multi-branch, parallel-branch Ä‘á»ƒ nÃ¢ng cao hiá»‡u suáº¥t.

![Nong Tri Web3 & AI Ideathon](https://github.com/DieppDiepp/NongTriAI/raw/main/image/langsmith_1.png)

![Nong Tri Web3 & AI Ideathon](https://github.com/DieppDiepp/NongTriAI/raw/main/image/langsmith_2.png)

## ğŸ”¥ CÃ¡c Ä‘iá»ƒm tá»‘i Æ°u 

1. ğŸ“Œ **TÃ­ch há»£p Embedding Tiáº¿ng Viá»‡t**:
   - DÃ¹ng mÃ´ hÃ¬nh embedding tiÃªu chuáº©n cho tiáº¿ng Viá»‡t (Ä‘Æ°á»£c triá»ƒn khai trong file `VietnameseEmbedding.py`).
   - Tá»‘i Æ°u chiáº¿u dÃ i embedding báº±ng mean-pooling vá»›i mask tÃ­n hiá»‡u.

2. ğŸ” **PhÃ¢n nhÃ¡nh quy trÃ¬nh (Route Prompt)**:
   - Nháº­n diá»‡n cÃ¢u há»i thÃ´ng qua prompt phÃ¢n loáº¡i (Ä‘á»‹nh nghÄ©a trong `NongtriPrompt.py`).
   - Tá»± Ä‘á»™ng quyáº¿t Ä‘á»‹nh truy váº¥n CSDL phÃ¹ há»£p.

3. ğŸ”— **RAG Chain Linh Hoáº¡t**:
   - Chuá»—i pipeline linh hoáº¡t tá»« truy váº¥n Ä‘á»™c láº­p Ä‘áº¿n tá»•ng há»£p ná»™i dung (Ä‘á»‹nh nghÄ©a trong `test_gemini.py` vÃ  `NongTriConservation.py`).

4. ğŸ¯ **Truy váº¥n chÃ­nh xÃ¡c cao**:
   - Sá»­ dá»¥ng k=5 vÃ  Ã¡p dá»¥ng ká»¹ thuáº­t multi queries Ä‘á»ƒ sinh ra 3 phiÃªn báº£n cÃ¢u há»i cá»§a ngÆ°á»i dÃ¹ng, trÃ­ch xuáº¥t 15 káº¿t quáº£ gáº§n nháº¥t, .
   - Quy Ä‘á»‹nh nghiÃªm ngáº·t vá» nguá»“n trÃ­ch dáº«n vÃ  ngÃ´n ngá»¯ tráº£ lá»i.

## ğŸš€ CÃ¡ch cháº¡y dá»± Ã¡n

### 1. ğŸ“‹ YÃªu cáº§u mÃ´i trÆ°á»ng

- Python >= 3.11.0
- CÃ i Ä‘áº·t cÃ¡c package yÃªu cáº§u:

```bash
pip install -r requirements.txt
```

### 2. ğŸ” CÃ i Ä‘áº·t biáº¿n mÃ´i trÆ°á»ng

Táº¡o file `.env` vá»›i ná»™i dung:

```
OPENAI_API_KEY=your-google-api-key
GOOGLE_API_KEY=your-google-api-key
LANGSMITH_TRACING=true
LANGSMITH_ENDPOINT="https://api.smith.langchain.com"
LANGSMITH_API_KEY="your-langsmith-api-key"

```

### 3. ğŸ§‘â€ğŸ’» Cháº¡y API

```bash
python FastApiDev.py
```

Má»Ÿ trÃ¬nh duyá»‡t táº¡i: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

## ğŸŒ Website Demo

1ï¸âƒ£ Website giá»›i thiá»‡u sáº£n pháº©m: [https://nongtri.netlify.app/](https://nongtri.netlify.app/)

![Demo Web](https://github.com/DieppDiepp/NongTriAI/raw/main/image/demoweb.jpg)

2ï¸âƒ£ Website demo chatbot RAG: [https://nongtrichat.netlify.app/](https://nongtrichat.netlify.app/)
![Demo Web chatbot](https://github.com/DieppDiepp/NongTriAI/blob/main/image/nongtrichat_full.png)

3ï¸âƒ£ á»¨ng dá»¥ng APK Ä‘Æ°á»£c LÃª Vy thÃ nh viÃªn trong team dá»± thi Web3 AI Hackfest phÃ¡t triá»ƒn - https://github.com/Zile228/NongTri_App 

-------------
## Hiá»‡n táº¡i phiÃªn báº£n cung cáº¥p thÃ´ng tin 3 loáº¡i cÃ¢y trá»“ng: cÃ  phÃª, há»“ tiÃªu, sáº§u riÃªng Ä‘i kÃ¨m vá»›i cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u nhÆ° multi queries, routing database, structured LLMs response,... Ä‘áº£m báº£o tá»‘c Ä‘á»™ truy váº¥n cao vÃ  chÃ­nh xÃ¡c
**VÃ¬ lÃ½ do báº£o máº­t, phÃ¢n Ä‘oáº¡n táº¡o vector store tá»± Ä‘á»™ng Ä‘Æ°á»£c báº£o máº­t**, náº¿u cÃ³ nhu cáº§u sá»­ dá»¥ng vui lÃ²ng liÃªn há»‡!

## ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c

```
.
â”œâ”€â”€ VietnameseEmbedding.py    # Xá»­ lÃ½ embedding tiáº¿ng Viá»‡t
â”œâ”€â”€ FastApiDev.py             # Khá»Ÿi cháº¡y FastAPI
â”œâ”€â”€ formatdocs.py             # Äá»‹nh dáº¡ng dá»¯ liá»‡u tráº£ vá»
â”œâ”€â”€ NongTriConservation.py    # Triá»ƒn khai chuá»—i RAG
â”œâ”€â”€ NongtriPrompt.py          # Äá»‹nh nghÄ©a prompt
â”œâ”€â”€ Requirements.txt          # CÃ¡c thÆ° viá»‡n yÃªu cáº§u 
â”œâ”€â”€ test_gemini.py            # TÃ­ch há»£p Gemini-2.0
â”œâ”€â”€ structured_response.py    # Ã‰p LLm tráº£ vá» káº¿t quáº£ cho trÆ°á»›c
â””â”€â”€ DB/                       # ChromaDB lÆ°u trá»¯ dá»¯ liá»‡u
```

## ğŸ¤ GÃ³p Ã½

HÃ£y táº¡o pull request hoáº·c issue náº¿u báº¡n muá»‘n Ä‘Ã³ng gÃ³p hoáº·c bÃ¡o lá»—i!

